;==============================================================================
; fasm directives
;==============================================================================

use16
org 0x0

endl equ 0xa
include "src/inc/8086.inc"

;==============================================================================
; Executable header
;==============================================================================

db "ES"
dw start
db 20 dup(0)

;==============================================================================
; Constants and variables
;==============================================================================

;==============================================================================
; Main program
;==============================================================================

start:
    mov ax, cs
    mov ds, ax
    mov es, ax

main:
.loop:
    mov ah, 0x1
    int 0x16
    cmp al, "q"
    je .quit
    cmp al, "Q"
    je .quit
.continue:
    xor ah, ah
    int 0x25
    mov ah, 0x10
    mov bl, al
    int 0x21

    jmp .loop
.quit:
    mov ah, 0x10
    mov bl, 0xf
    int 0x21

    retf