;==============================================================================
; fasm directives
;==============================================================================

use16
org 0x0

endl equ 0xa
include "src/inc/8086.inc"

;==============================================================================
; Executable header
;==============================================================================

db "ES"
dw start
db 20 dup(0)

;==============================================================================
; Constants and variables
;==============================================================================

msg:
    db "Hello, world!", endl
msg_len = $-msg

;==============================================================================
; Main program
;==============================================================================

start:
    mov ax, cs
    mov ds, ax
    mov es, ax

main:
    mov ah, 0x3
    mov bl, 0x7
    mov cx, msg_len
    lea si, [msg]
    int 0x21

    retf